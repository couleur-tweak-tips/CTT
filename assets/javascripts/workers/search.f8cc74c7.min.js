"use strict";(()=>{var te=Object.create,W=Object.defineProperty,re=Object.defineProperties,ne=Object.getOwnPropertyDescriptor,ie=Object.getOwnPropertyDescriptors,se=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,oe=Object.getPrototypeOf,G=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,le=Math.pow,H=(l,a,e)=>a in l?W(l,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[a]=e,D=(l,a)=>{for(var e in a||(a={}))G.call(a,e)&&H(l,e,a[e]);if(U)for(var e of U(a))ae.call(a,e)&&H(l,e,a[e]);return l},J=(l,a)=>re(l,ie(a)),ue=(l,a)=>()=>(a||l((a={exports:{}}).exports,a),a.exports),ce=(l,a,e,t)=>{if(a&&typeof a=="object"||typeof a=="function")for(let r of se(a))!G.call(l,r)&&r!==e&&W(l,r,{get:()=>a[r],enumerable:!(t=ne(a,r))||t.enumerable});return l},he=(l,a,e)=>(e=l!=null?te(oe(l)):{},ce(a||!l||!l.__esModule?W(e,"default",{value:l,enumerable:!0}):e,l)),q=(l,a,e)=>new Promise((t,r)=>{var n=o=>{try{s(e.next(o))}catch(u){r(u)}},i=o=>{try{s(e.throw(o))}catch(u){r(u)}},s=o=>o.done?t(o.value):Promise.resolve(o.value).then(n,i);s((e=e.apply(l,a)).next())}),de=ue((l,a)=>{/**
* lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 2.3.9
* Copyright (C) 2020 Oliver Nightingale
* @license MIT
*/(function(){var e=function(t){var r=new e.Builder;return r.pipeline.add(e.trimmer,e.stopWordFilter,e.stemmer),r.searchPipeline.add(e.stemmer),t.call(r,r),r.build()};e.version="2.3.9";/*!
* lunr.utils
* Copyright (C) 2020 Oliver Nightingale
*/e.utils={},e.utils.warn=function(t){return function(r){t.console&&console.warn&&console.warn(r)}}(this),e.utils.asString=function(t){return t==null?"":t.toString()},e.utils.clone=function(t){if(t==null)return t;for(var r=Object.create(null),n=Object.keys(t),i=0;i<n.length;i++){var s=n[i],o=t[s];if(Array.isArray(o)){r[s]=o.slice();continue}if(typeof o=="string"||typeof o=="number"||typeof o=="boolean"){r[s]=o;continue}throw new TypeError("clone is not deep and does not support nested objects")}return r},e.FieldRef=function(t,r,n){this.docRef=t,this.fieldName=r,this._stringValue=n},e.FieldRef.joiner="/",e.FieldRef.fromString=function(t){var r=t.indexOf(e.FieldRef.joiner);if(r===-1)throw"malformed field ref string";var n=t.slice(0,r),i=t.slice(r+1);return new e.FieldRef(i,n,t)},e.FieldRef.prototype.toString=function(){return this._stringValue==null&&(this._stringValue=this.fieldName+e.FieldRef.joiner+this.docRef),this._stringValue};/*!
* lunr.Set
* Copyright (C) 2020 Oliver Nightingale
*/e.Set=function(t){if(this.elements=Object.create(null),t){this.length=t.length;for(var r=0;r<this.length;r++)this.elements[t[r]]=!0}else this.length=0},e.Set.complete={intersect:function(t){return t},union:function(){return this},contains:function(){return!0}},e.Set.empty={intersect:function(){return this},union:function(t){return t},contains:function(){return!1}},e.Set.prototype.contains=function(t){return!!this.elements[t]},e.Set.prototype.intersect=function(t){var r,n,i,s=[];if(t===e.Set.complete)return this;if(t===e.Set.empty)return t;this.length<t.length?(r=this,n=t):(r=t,n=this),i=Object.keys(r.elements);for(var o=0;o<i.length;o++){var u=i[o];u in n.elements&&s.push(u)}return new e.Set(s)},e.Set.prototype.union=function(t){return t===e.Set.complete?e.Set.complete:t===e.Set.empty?this:new e.Set(Object.keys(this.elements).concat(Object.keys(t.elements)))},e.idf=function(t,r){var n=0;for(var i in t)i!="_index"&&(n+=Object.keys(t[i]).length);var s=(r-n+.5)/(n+.5);return Math.log(1+Math.abs(s))},e.Token=function(t,r){this.str=t||"",this.metadata=r||{}},e.Token.prototype.toString=function(){return this.str},e.Token.prototype.update=function(t){return this.str=t(this.str,this.metadata),this},e.Token.prototype.clone=function(t){return t=t||function(r){return r},new e.Token(t(this.str,this.metadata),this.metadata)};/*!
* lunr.tokenizer
* Copyright (C) 2020 Oliver Nightingale
*/e.tokenizer=function(t,r){if(t==null||t==null)return[];if(Array.isArray(t))return t.map(function(y){return new e.Token(e.utils.asString(y).toLowerCase(),e.utils.clone(r))});for(var n=t.toString().toLowerCase(),i=n.length,s=[],o=0,u=0;o<=i;o++){var d=n.charAt(o),c=o-u;if(d.match(e.tokenizer.separator)||o==i){if(c>0){var h=e.utils.clone(r)||{};h.position=[u,c],h.index=s.length,s.push(new e.Token(n.slice(u,o),h))}u=o+1}}return s},e.tokenizer.separator=/[\s\-]+/;/*!
* lunr.Pipeline
* Copyright (C) 2020 Oliver Nightingale
*/e.Pipeline=function(){this._stack=[]},e.Pipeline.registeredFunctions=Object.create(null),e.Pipeline.registerFunction=function(t,r){r in this.registeredFunctions&&e.utils.warn("Overwriting existing registered function: "+r),t.label=r,e.Pipeline.registeredFunctions[t.label]=t},e.Pipeline.warnIfFunctionNotRegistered=function(t){var r=t.label&&t.label in this.registeredFunctions;r||e.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,t)},e.Pipeline.load=function(t){var r=new e.Pipeline;return t.forEach(function(n){var i=e.Pipeline.registeredFunctions[n];if(i)r.add(i);else throw new Error("Cannot load unregistered function: "+n)}),r},e.Pipeline.prototype.add=function(){var t=Array.prototype.slice.call(arguments);t.forEach(function(r){e.Pipeline.warnIfFunctionNotRegistered(r),this._stack.push(r)},this)},e.Pipeline.prototype.after=function(t,r){e.Pipeline.warnIfFunctionNotRegistered(r);var n=this._stack.indexOf(t);if(n==-1)throw new Error("Cannot find existingFn");n=n+1,this._stack.splice(n,0,r)},e.Pipeline.prototype.before=function(t,r){e.Pipeline.warnIfFunctionNotRegistered(r);var n=this._stack.indexOf(t);if(n==-1)throw new Error("Cannot find existingFn");this._stack.splice(n,0,r)},e.Pipeline.prototype.remove=function(t){var r=this._stack.indexOf(t);r!=-1&&this._stack.splice(r,1)},e.Pipeline.prototype.run=function(t){for(var r=this._stack.length,n=0;n<r;n++){for(var i=this._stack[n],s=[],o=0;o<t.length;o++){var u=i(t[o],o,t);if(!(u==null||u===""))if(Array.isArray(u))for(var d=0;d<u.length;d++)s.push(u[d]);else s.push(u)}t=s}return t},e.Pipeline.prototype.runString=function(t,r){var n=new e.Token(t,r);return this.run([n]).map(function(i){return i.toString()})},e.Pipeline.prototype.reset=function(){this._stack=[]},e.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return e.Pipeline.warnIfFunctionNotRegistered(t),t.label})};/*!
* lunr.Vector
* Copyright (C) 2020 Oliver Nightingale
*/e.Vector=function(t){this._magnitude=0,this.elements=t||[]},e.Vector.prototype.positionForIndex=function(t){if(this.elements.length==0)return 0;for(var r=0,n=this.elements.length/2,i=n-r,s=Math.floor(i/2),o=this.elements[s*2];i>1&&(o<t&&(r=s),o>t&&(n=s),o!=t);)i=n-r,s=r+Math.floor(i/2),o=this.elements[s*2];if(o==t||o>t)return s*2;if(o<t)return(s+1)*2},e.Vector.prototype.insert=function(t,r){this.upsert(t,r,function(){throw"duplicate index"})},e.Vector.prototype.upsert=function(t,r,n){this._magnitude=0;var i=this.positionForIndex(t);this.elements[i]==t?this.elements[i+1]=n(this.elements[i+1],r):this.elements.splice(i,0,t,r)},e.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t=0,r=this.elements.length,n=1;n<r;n+=2){var i=this.elements[n];t+=i*i}return this._magnitude=Math.sqrt(t)},e.Vector.prototype.dot=function(t){for(var r=0,n=this.elements,i=t.elements,s=n.length,o=i.length,u=0,d=0,c=0,h=0;c<s&&h<o;)u=n[c],d=i[h],u<d?c+=2:u>d?h+=2:u==d&&(r+=n[c+1]*i[h+1],c+=2,h+=2);return r},e.Vector.prototype.similarity=function(t){return this.dot(t)/this.magnitude()||0},e.Vector.prototype.toArray=function(){for(var t=new Array(this.elements.length/2),r=1,n=0;r<this.elements.length;r+=2,n++)t[n]=this.elements[r];return t},e.Vector.prototype.toJSON=function(){return this.elements};/*!
* lunr.stemmer
* Copyright (C) 2020 Oliver Nightingale
* Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
*/e.stemmer=function(){var t={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},r={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[^aeiou]",i="[aeiouy]",s=n+"[^aeiouy]*",o=i+"[aeiou]*",u="^("+s+")?"+o+s,d="^("+s+")?"+o+s+"("+o+")?$",c="^("+s+")?"+o+s+o+s,h="^("+s+")?"+i,y=new RegExp(u),g=new RegExp(c),Q=new RegExp(d),x=new RegExp(h),k=/^(.+?)(ss|i)es$/,m=/^(.+?)([^s])s$/,v=/^(.+?)eed$/,L=/^(.+?)(ed|ing)$/,E=/.$/,O=/(at|bl|iz)$/,j=new RegExp("([^aeiouylsz])\\1$"),A=new RegExp("^"+s+i+"[^aeiouwxy]$"),F=/^(.+?[^aeiou])y$/,z=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,B=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,N=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,$=/^(.+?)(s|t)(ion)$/,T=/^(.+?)e$/,M=/ll$/,V=new RegExp("^"+s+i+"[^aeiouwxy]$"),C=function(f){var w,I,P,p,b,R,_;if(f.length<3)return f;if(P=f.substr(0,1),P=="y"&&(f=P.toUpperCase()+f.substr(1)),p=k,b=m,p.test(f)?f=f.replace(p,"$1$2"):b.test(f)&&(f=f.replace(b,"$1$2")),p=v,b=L,p.test(f)){var S=p.exec(f);p=y,p.test(S[1])&&(p=E,f=f.replace(p,""))}else if(b.test(f)){var S=b.exec(f);w=S[1],b=x,b.test(w)&&(f=w,b=O,R=j,_=A,b.test(f)?f=f+"e":R.test(f)?(p=E,f=f.replace(p,"")):_.test(f)&&(f=f+"e"))}if(p=F,p.test(f)){var S=p.exec(f);w=S[1],f=w+"i"}if(p=z,p.test(f)){var S=p.exec(f);w=S[1],I=S[2],p=y,p.test(w)&&(f=w+t[I])}if(p=B,p.test(f)){var S=p.exec(f);w=S[1],I=S[2],p=y,p.test(w)&&(f=w+r[I])}if(p=N,b=$,p.test(f)){var S=p.exec(f);w=S[1],p=g,p.test(w)&&(f=w)}else if(b.test(f)){var S=b.exec(f);w=S[1]+S[2],b=g,b.test(w)&&(f=w)}if(p=T,p.test(f)){var S=p.exec(f);w=S[1],p=g,b=Q,R=V,(p.test(w)||b.test(w)&&!R.test(w))&&(f=w)}return p=M,b=g,p.test(f)&&b.test(f)&&(p=E,f=f.replace(p,"")),P=="y"&&(f=P.toLowerCase()+f.substr(1)),f};return function(f){return f.update(C)}}(),e.Pipeline.registerFunction(e.stemmer,"stemmer");/*!
* lunr.stopWordFilter
* Copyright (C) 2020 Oliver Nightingale
*/e.generateStopWordFilter=function(t){var r=t.reduce(function(n,i){return n[i]=i,n},{});return function(n){if(n&&r[n.toString()]!==n.toString())return n}},e.stopWordFilter=e.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),e.Pipeline.registerFunction(e.stopWordFilter,"stopWordFilter");/*!
* lunr.trimmer
* Copyright (C) 2020 Oliver Nightingale
*/e.trimmer=function(t){return t.update(function(r){return r.replace(/^\W+/,"").replace(/\W+$/,"")})},e.Pipeline.registerFunction(e.trimmer,"trimmer");/*!
* lunr.TokenSet
* Copyright (C) 2020 Oliver Nightingale
*/e.TokenSet=function(){this.final=!1,this.edges={},this.id=e.TokenSet._nextId,e.TokenSet._nextId+=1},e.TokenSet._nextId=1,e.TokenSet.fromArray=function(t){for(var r=new e.TokenSet.Builder,n=0,i=t.length;n<i;n++)r.insert(t[n]);return r.finish(),r.root},e.TokenSet.fromClause=function(t){return"editDistance"in t?e.TokenSet.fromFuzzyString(t.term,t.editDistance):e.TokenSet.fromString(t.term)},e.TokenSet.fromFuzzyString=function(t,r){for(var n=new e.TokenSet,i=[{node:n,editsRemaining:r,str:t}];i.length;){var s=i.pop();if(s.str.length>0){var o=s.str.charAt(0),u;o in s.node.edges?u=s.node.edges[o]:(u=new e.TokenSet,s.node.edges[o]=u),s.str.length==1&&(u.final=!0),i.push({node:u,editsRemaining:s.editsRemaining,str:s.str.slice(1)})}if(s.editsRemaining!=0){if("*"in s.node.edges)var d=s.node.edges["*"];else{var d=new e.TokenSet;s.node.edges["*"]=d}if(s.str.length==0&&(d.final=!0),i.push({node:d,editsRemaining:s.editsRemaining-1,str:s.str}),s.str.length>1&&i.push({node:s.node,editsRemaining:s.editsRemaining-1,str:s.str.slice(1)}),s.str.length==1&&(s.node.final=!0),s.str.length>=1){if("*"in s.node.edges)var c=s.node.edges["*"];else{var c=new e.TokenSet;s.node.edges["*"]=c}s.str.length==1&&(c.final=!0),i.push({node:c,editsRemaining:s.editsRemaining-1,str:s.str.slice(1)})}if(s.str.length>1){var h=s.str.charAt(0),y=s.str.charAt(1),g;y in s.node.edges?g=s.node.edges[y]:(g=new e.TokenSet,s.node.edges[y]=g),s.str.length==1&&(g.final=!0),i.push({node:g,editsRemaining:s.editsRemaining-1,str:h+s.str.slice(2)})}}}return n},e.TokenSet.fromString=function(t){for(var r=new e.TokenSet,n=r,i=0,s=t.length;i<s;i++){var o=t[i],u=i==s-1;if(o=="*")r.edges[o]=r,r.final=u;else{var d=new e.TokenSet;d.final=u,r.edges[o]=d,r=d}}return n},e.TokenSet.prototype.toArray=function(){for(var t=[],r=[{prefix:"",node:this}];r.length;){var n=r.pop(),i=Object.keys(n.node.edges),s=i.length;n.node.final&&(n.prefix.charAt(0),t.push(n.prefix));for(var o=0;o<s;o++){var u=i[o];r.push({prefix:n.prefix.concat(u),node:n.node.edges[u]})}}return t},e.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var t=this.final?"1":"0",r=Object.keys(this.edges).sort(),n=r.length,i=0;i<n;i++){var s=r[i],o=this.edges[s];t=t+s+o.id}return t},e.TokenSet.prototype.intersect=function(t){for(var r=new e.TokenSet,n=void 0,i=[{qNode:t,output:r,node:this}];i.length;){n=i.pop();for(var s=Object.keys(n.qNode.edges),o=s.length,u=Object.keys(n.node.edges),d=u.length,c=0;c<o;c++)for(var h=s[c],y=0;y<d;y++){var g=u[y];if(g==h||h=="*"){var Q=n.node.edges[g],x=n.qNode.edges[h],k=Q.final&&x.final,m=void 0;g in n.output.edges?(m=n.output.edges[g],m.final=m.final||k):(m=new e.TokenSet,m.final=k,n.output.edges[g]=m),i.push({qNode:x,output:m,node:Q})}}}return r},e.TokenSet.Builder=function(){this.previousWord="",this.root=new e.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},e.TokenSet.Builder.prototype.insert=function(t){var r,n=0;if(t<this.previousWord)throw new Error("Out of order word insertion");for(var i=0;i<t.length&&i<this.previousWord.length&&t[i]==this.previousWord[i];i++)n++;this.minimize(n),this.uncheckedNodes.length==0?r=this.root:r=this.uncheckedNodes[this.uncheckedNodes.length-1].child;for(var i=n;i<t.length;i++){var s=new e.TokenSet,o=t[i];r.edges[o]=s,this.uncheckedNodes.push({parent:r,char:o,child:s}),r=s}r.final=!0,this.previousWord=t},e.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},e.TokenSet.Builder.prototype.minimize=function(t){for(var r=this.uncheckedNodes.length-1;r>=t;r--){var n=this.uncheckedNodes[r],i=n.child.toString();i in this.minimizedNodes?n.parent.edges[n.char]=this.minimizedNodes[i]:(n.child._str=i,this.minimizedNodes[i]=n.child),this.uncheckedNodes.pop()}};/*!
* lunr.Index
* Copyright (C) 2020 Oliver Nightingale
*/e.Index=function(t){this.invertedIndex=t.invertedIndex,this.fieldVectors=t.fieldVectors,this.tokenSet=t.tokenSet,this.fields=t.fields,this.pipeline=t.pipeline},e.Index.prototype.search=function(t){return this.query(function(r){var n=new e.QueryParser(t,r);n.parse()})},e.Index.prototype.query=function(t){for(var r=new e.Query(this.fields),n=Object.create(null),i=Object.create(null),s=Object.create(null),o=Object.create(null),u=Object.create(null),d=0;d<this.fields.length;d++)i[this.fields[d]]=new e.Vector;t.call(r,r);for(var d=0;d<r.clauses.length;d++){var c=r.clauses[d],h=null,y=e.Set.empty;c.usePipeline?h=this.pipeline.runString(c.term,{fields:c.fields}):h=[c.term];for(var g=0;g<h.length;g++){var Q=h[g];c.term=Q;var x=e.TokenSet.fromClause(c),k=this.tokenSet.intersect(x).toArray();if(k.length===0&&c.presence===e.Query.presence.REQUIRED){for(var m=0;m<c.fields.length;m++){var v=c.fields[m];o[v]=e.Set.empty}break}for(var L=0;L<k.length;L++)for(var E=k[L],O=this.invertedIndex[E],j=O._index,m=0;m<c.fields.length;m++){var v=c.fields[m],A=O[v],F=Object.keys(A),z=E+"/"+v,B=new e.Set(F);if(c.presence==e.Query.presence.REQUIRED&&(y=y.union(B),o[v]===void 0&&(o[v]=e.Set.complete)),c.presence==e.Query.presence.PROHIBITED){u[v]===void 0&&(u[v]=e.Set.empty),u[v]=u[v].union(B);continue}if(i[v].upsert(j,c.boost,function(je,Re){return je+Re}),!s[z]){for(var N=0;N<F.length;N++){var $=F[N],T=new e.FieldRef($,v),M=A[$],V;(V=n[T])===void 0?n[T]=new e.MatchData(E,v,M):V.add(E,v,M)}s[z]=!0}}}if(c.presence===e.Query.presence.REQUIRED)for(var m=0;m<c.fields.length;m++){var v=c.fields[m];o[v]=o[v].intersect(y)}}for(var C=e.Set.complete,f=e.Set.empty,d=0;d<this.fields.length;d++){var v=this.fields[d];o[v]&&(C=C.intersect(o[v])),u[v]&&(f=f.union(u[v]))}var w=Object.keys(n),I=[],P=Object.create(null);if(r.isNegated()){w=Object.keys(this.fieldVectors);for(var d=0;d<w.length;d++){var T=w[d],p=e.FieldRef.fromString(T);n[T]=new e.MatchData}}for(var d=0;d<w.length;d++){var p=e.FieldRef.fromString(w[d]),b=p.docRef;if(C.contains(b)&&!f.contains(b)){var R=this.fieldVectors[p],_=i[p.fieldName].similarity(R),S;if((S=P[b])!==void 0)S.score+=_,S.matchData.combine(n[p]);else{var ee={ref:b,score:_,matchData:n[p]};P[b]=ee,I.push(ee)}}}return I.sort(function(Te,Ie){return Ie.score-Te.score})},e.Index.prototype.toJSON=function(){var t=Object.keys(this.invertedIndex).sort().map(function(n){return[n,this.invertedIndex[n]]},this),r=Object.keys(this.fieldVectors).map(function(n){return[n,this.fieldVectors[n].toJSON()]},this);return{version:e.version,fields:this.fields,fieldVectors:r,invertedIndex:t,pipeline:this.pipeline.toJSON()}},e.Index.load=function(t){var r={},n={},i=t.fieldVectors,s=Object.create(null),o=t.invertedIndex,u=new e.TokenSet.Builder,d=e.Pipeline.load(t.pipeline);t.version!=e.version&&e.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+e.version+"' does not match serialized index '"+t.version+"'");for(var c=0;c<i.length;c++){var h=i[c],y=h[0],g=h[1];n[y]=new e.Vector(g)}for(var c=0;c<o.length;c++){var h=o[c],Q=h[0],x=h[1];u.insert(Q),s[Q]=x}return u.finish(),r.fields=t.fields,r.fieldVectors=n,r.invertedIndex=s,r.tokenSet=u.root,r.pipeline=d,new e.Index(r)};/*!
* lunr.Builder
* Copyright (C) 2020 Oliver Nightingale
*/e.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=e.tokenizer,this.pipeline=new e.Pipeline,this.searchPipeline=new e.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},e.Builder.prototype.ref=function(t){this._ref=t},e.Builder.prototype.field=function(t,r){if(/\//.test(t))throw new RangeError("Field '"+t+"' contains illegal character '/'");this._fields[t]=r||{}},e.Builder.prototype.b=function(t){t<0?this._b=0:t>1?this._b=1:this._b=t},e.Builder.prototype.k1=function(t){this._k1=t},e.Builder.prototype.add=function(t,r){var n=t[this._ref],i=Object.keys(this._fields);this._documents[n]=r||{},this.documentCount+=1;for(var s=0;s<i.length;s++){var o=i[s],u=this._fields[o].extractor,d=u?u(t):t[o],c=this.tokenizer(d,{fields:[o]}),h=this.pipeline.run(c),y=new e.FieldRef(n,o),g=Object.create(null);this.fieldTermFrequencies[y]=g,this.fieldLengths[y]=0,this.fieldLengths[y]+=h.length;for(var Q=0;Q<h.length;Q++){var x=h[Q];if(g[x]==null&&(g[x]=0),g[x]+=1,this.invertedIndex[x]==null){var k=Object.create(null);k._index=this.termIndex,this.termIndex+=1;for(var m=0;m<i.length;m++)k[i[m]]=Object.create(null);this.invertedIndex[x]=k}this.invertedIndex[x][o][n]==null&&(this.invertedIndex[x][o][n]=Object.create(null));for(var v=0;v<this.metadataWhitelist.length;v++){var L=this.metadataWhitelist[v],E=x.metadata[L];this.invertedIndex[x][o][n][L]==null&&(this.invertedIndex[x][o][n][L]=[]),this.invertedIndex[x][o][n][L].push(E)}}}},e.Builder.prototype.calculateAverageFieldLengths=function(){for(var t=Object.keys(this.fieldLengths),r=t.length,n={},i={},s=0;s<r;s++){var o=e.FieldRef.fromString(t[s]),u=o.fieldName;i[u]||(i[u]=0),i[u]+=1,n[u]||(n[u]=0),n[u]+=this.fieldLengths[o]}for(var d=Object.keys(this._fields),s=0;s<d.length;s++){var c=d[s];n[c]=n[c]/i[c]}this.averageFieldLength=n},e.Builder.prototype.createFieldVectors=function(){for(var t={},r=Object.keys(this.fieldTermFrequencies),n=r.length,i=Object.create(null),s=0;s<n;s++){for(var o=e.FieldRef.fromString(r[s]),u=o.fieldName,d=this.fieldLengths[o],c=new e.Vector,h=this.fieldTermFrequencies[o],y=Object.keys(h),g=y.length,Q=this._fields[u].boost||1,x=this._documents[o.docRef].boost||1,k=0;k<g;k++){var m=y[k],v=h[m],L=this.invertedIndex[m]._index,E,O,j;i[m]===void 0?(E=e.idf(this.invertedIndex[m],this.documentCount),i[m]=E):E=i[m],O=E*((this._k1+1)*v)/(this._k1*(1-this._b+this._b*(d/this.averageFieldLength[u]))+v),O*=Q,O*=x,j=Math.round(O*1e3)/1e3,c.insert(L,j)}t[o]=c}this.fieldVectors=t},e.Builder.prototype.createTokenSet=function(){this.tokenSet=e.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},e.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new e.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},e.Builder.prototype.use=function(t){var r=Array.prototype.slice.call(arguments,1);r.unshift(this),t.apply(this,r)},e.MatchData=function(t,r,n){for(var i=Object.create(null),s=Object.keys(n||{}),o=0;o<s.length;o++){var u=s[o];i[u]=n[u].slice()}this.metadata=Object.create(null),t!==void 0&&(this.metadata[t]=Object.create(null),this.metadata[t][r]=i)},e.MatchData.prototype.combine=function(t){for(var r=Object.keys(t.metadata),n=0;n<r.length;n++){var i=r[n],s=Object.keys(t.metadata[i]);this.metadata[i]==null&&(this.metadata[i]=Object.create(null));for(var o=0;o<s.length;o++){var u=s[o],d=Object.keys(t.metadata[i][u]);this.metadata[i][u]==null&&(this.metadata[i][u]=Object.create(null));for(var c=0;c<d.length;c++){var h=d[c];this.metadata[i][u][h]==null?this.metadata[i][u][h]=t.metadata[i][u][h]:this.metadata[i][u][h]=this.metadata[i][u][h].concat(t.metadata[i][u][h])}}}},e.MatchData.prototype.add=function(t,r,n){if(!(t in this.metadata)){this.metadata[t]=Object.create(null),this.metadata[t][r]=n;return}if(!(r in this.metadata[t])){this.metadata[t][r]=n;return}for(var i=Object.keys(n),s=0;s<i.length;s++){var o=i[s];o in this.metadata[t][r]?this.metadata[t][r][o]=this.metadata[t][r][o].concat(n[o]):this.metadata[t][r][o]=n[o]}},e.Query=function(t){this.clauses=[],this.allFields=t},e.Query.wildcard=new String("*"),e.Query.wildcard.NONE=0,e.Query.wildcard.LEADING=1,e.Query.wildcard.TRAILING=2,e.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},e.Query.prototype.clause=function(t){return"fields"in t||(t.fields=this.allFields),"boost"in t||(t.boost=1),"usePipeline"in t||(t.usePipeline=!0),"wildcard"in t||(t.wildcard=e.Query.wildcard.NONE),t.wildcard&e.Query.wildcard.LEADING&&t.term.charAt(0)!=e.Query.wildcard&&(t.term="*"+t.term),t.wildcard&e.Query.wildcard.TRAILING&&t.term.slice(-1)!=e.Query.wildcard&&(t.term=""+t.term+"*"),"presence"in t||(t.presence=e.Query.presence.OPTIONAL),this.clauses.push(t),this},e.Query.prototype.isNegated=function(){for(var t=0;t<this.clauses.length;t++)if(this.clauses[t].presence!=e.Query.presence.PROHIBITED)return!1;return!0},e.Query.prototype.term=function(t,r){if(Array.isArray(t))return t.forEach(function(i){this.term(i,e.utils.clone(r))},this),this;var n=r||{};return n.term=t.toString(),this.clause(n),this},e.QueryParseError=function(t,r,n){this.name="QueryParseError",this.message=t,this.start=r,this.end=n},e.QueryParseError.prototype=new Error,e.QueryLexer=function(t){this.lexemes=[],this.str=t,this.length=t.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},e.QueryLexer.prototype.run=function(){for(var t=e.QueryLexer.lexText;t;)t=t(this)},e.QueryLexer.prototype.sliceString=function(){for(var t=[],r=this.start,n=this.pos,i=0;i<this.escapeCharPositions.length;i++)n=this.escapeCharPositions[i],t.push(this.str.slice(r,n)),r=n+1;return t.push(this.str.slice(r,this.pos)),this.escapeCharPositions.length=0,t.join("")},e.QueryLexer.prototype.emit=function(t){this.lexemes.push({type:t,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},e.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},e.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return e.QueryLexer.EOS;var t=this.str.charAt(this.pos);return this.pos+=1,t},e.QueryLexer.prototype.width=function(){return this.pos-this.start},e.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},e.QueryLexer.prototype.backup=function(){this.pos-=1},e.QueryLexer.prototype.acceptDigitRun=function(){var t,r;do t=this.next(),r=t.charCodeAt(0);while(r>47&&r<58);t!=e.QueryLexer.EOS&&this.backup()},e.QueryLexer.prototype.more=function(){return this.pos<this.length},e.QueryLexer.EOS="EOS",e.QueryLexer.FIELD="FIELD",e.QueryLexer.TERM="TERM",e.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",e.QueryLexer.BOOST="BOOST",e.QueryLexer.PRESENCE="PRESENCE",e.QueryLexer.lexField=function(t){return t.backup(),t.emit(e.QueryLexer.FIELD),t.ignore(),e.QueryLexer.lexText},e.QueryLexer.lexTerm=function(t){if(t.width()>1&&(t.backup(),t.emit(e.QueryLexer.TERM)),t.ignore(),t.more())return e.QueryLexer.lexText},e.QueryLexer.lexEditDistance=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(e.QueryLexer.EDIT_DISTANCE),e.QueryLexer.lexText},e.QueryLexer.lexBoost=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(e.QueryLexer.BOOST),e.QueryLexer.lexText},e.QueryLexer.lexEOS=function(t){t.width()>0&&t.emit(e.QueryLexer.TERM)},e.QueryLexer.termSeparator=e.tokenizer.separator,e.QueryLexer.lexText=function(t){for(;;){var r=t.next();if(r==e.QueryLexer.EOS)return e.QueryLexer.lexEOS;if(r.charCodeAt(0)==92){t.escapeCharacter();continue}if(r==":")return e.QueryLexer.lexField;if(r=="~")return t.backup(),t.width()>0&&t.emit(e.QueryLexer.TERM),e.QueryLexer.lexEditDistance;if(r=="^")return t.backup(),t.width()>0&&t.emit(e.QueryLexer.TERM),e.QueryLexer.lexBoost;if(r=="+"&&t.width()===1||r=="-"&&t.width()===1)return t.emit(e.QueryLexer.PRESENCE),e.QueryLexer.lexText;if(r.match(e.QueryLexer.termSeparator))return e.QueryLexer.lexTerm}},e.QueryParser=function(t,r){this.lexer=new e.QueryLexer(t),this.query=r,this.currentClause={},this.lexemeIdx=0},e.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var t=e.QueryParser.parseClause;t;)t=t(this);return this.query},e.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},e.QueryParser.prototype.consumeLexeme=function(){var t=this.peekLexeme();return this.lexemeIdx+=1,t},e.QueryParser.prototype.nextClause=function(){var t=this.currentClause;this.query.clause(t),this.currentClause={}},e.QueryParser.parseClause=function(t){var r=t.peekLexeme();if(r!=null)switch(r.type){case e.QueryLexer.PRESENCE:return e.QueryParser.parsePresence;case e.QueryLexer.FIELD:return e.QueryParser.parseField;case e.QueryLexer.TERM:return e.QueryParser.parseTerm;default:var n="expected either a field or a term, found "+r.type;throw r.str.length>=1&&(n+=" with value '"+r.str+"'"),new e.QueryParseError(n,r.start,r.end)}},e.QueryParser.parsePresence=function(t){var r=t.consumeLexeme();if(r!=null){switch(r.str){case"-":t.currentClause.presence=e.Query.presence.PROHIBITED;break;case"+":t.currentClause.presence=e.Query.presence.REQUIRED;break;default:var n="unrecognised presence operator'"+r.str+"'";throw new e.QueryParseError(n,r.start,r.end)}var i=t.peekLexeme();if(i==null){var n="expecting term or field, found nothing";throw new e.QueryParseError(n,r.start,r.end)}switch(i.type){case e.QueryLexer.FIELD:return e.QueryParser.parseField;case e.QueryLexer.TERM:return e.QueryParser.parseTerm;default:var n="expecting term or field, found '"+i.type+"'";throw new e.QueryParseError(n,i.start,i.end)}}},e.QueryParser.parseField=function(t){var r=t.consumeLexeme();if(r!=null){if(t.query.allFields.indexOf(r.str)==-1){var n=t.query.allFields.map(function(o){return"'"+o+"'"}).join(", "),i="unrecognised field '"+r.str+"', possible fields: "+n;throw new e.QueryParseError(i,r.start,r.end)}t.currentClause.fields=[r.str];var s=t.peekLexeme();if(s==null){var i="expecting term, found nothing";throw new e.QueryParseError(i,r.start,r.end)}switch(s.type){case e.QueryLexer.TERM:return e.QueryParser.parseTerm;default:var i="expecting term, found '"+s.type+"'";throw new e.QueryParseError(i,s.start,s.end)}}},e.QueryParser.parseTerm=function(t){var r=t.consumeLexeme();if(r!=null){t.currentClause.term=r.str.toLowerCase(),r.str.indexOf("*")!=-1&&(t.currentClause.usePipeline=!1);var n=t.peekLexeme();if(n==null){t.nextClause();return}switch(n.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;case e.QueryLexer.PRESENCE:return t.nextClause(),e.QueryParser.parsePresence;default:var i="Unexpected lexeme type '"+n.type+"'";throw new e.QueryParseError(i,n.start,n.end)}}},e.QueryParser.parseEditDistance=function(t){var r=t.consumeLexeme();if(r!=null){var n=parseInt(r.str,10);if(isNaN(n)){var i="edit distance must be numeric";throw new e.QueryParseError(i,r.start,r.end)}t.currentClause.editDistance=n;var s=t.peekLexeme();if(s==null){t.nextClause();return}switch(s.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;case e.QueryLexer.PRESENCE:return t.nextClause(),e.QueryParser.parsePresence;default:var i="Unexpected lexeme type '"+s.type+"'";throw new e.QueryParseError(i,s.start,s.end)}}},e.QueryParser.parseBoost=function(t){var r=t.consumeLexeme();if(r!=null){var n=parseInt(r.str,10);if(isNaN(n)){var i="boost must be numeric";throw new e.QueryParseError(i,r.start,r.end)}t.currentClause.boost=n;var s=t.peekLexeme();if(s==null){t.nextClause();return}switch(s.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;case e.QueryLexer.PRESENCE:return t.nextClause(),e.QueryParser.parsePresence;default:var i="Unexpected lexeme type '"+s.type+"'";throw new e.QueryParseError(i,s.start,s.end)}}},function(t,r){typeof define=="function"&&define.amd?define(r):typeof l=="object"?a.exports=r():t.lunr=r()}(this,function(){return e})})()}),K=he(de());function fe(l,a=document){let e=pe(l,a);if(typeof e>"u")throw new ReferenceError(`Missing element: expected "${l}" to be present`);return e}function pe(l,a=document){return a.querySelector(l)||void 0}Object.entries||(Object.entries=function(l){let a=[];for(let e of Object.keys(l))a.push([e,l[e]]);return a}),Object.values||(Object.values=function(l){let a=[];for(let e of Object.keys(l))a.push(l[e]);return a}),typeof Element<"u"&&(Element.prototype.scrollTo||(Element.prototype.scrollTo=function(l,a){typeof l=="object"?(this.scrollLeft=l.left,this.scrollTop=l.top):(this.scrollLeft=l,this.scrollTop=a)}),Element.prototype.replaceWith||(Element.prototype.replaceWith=function(...l){let a=this.parentNode;if(a){l.length===0&&a.removeChild(this);for(let e=l.length-1;e>=0;e--){let t=l[e];typeof t=="string"?t=document.createTextNode(t):t.parentNode&&t.parentNode.removeChild(t),e?a.insertBefore(this.previousSibling,t):a.replaceChild(t,this)}}}));function ye(l){let a=new Map;for(let e of l){let[t]=e.location.split("#"),r=a.get(t);typeof r>"u"?a.set(t,e):(a.set(e.location,e),e.parent=r)}return a}function X(l,a,e){var t;a=new RegExp(a,"g");let r,n=0;do{r=a.exec(l);let i=(t=r?.index)!=null?t:l.length;if(n<i&&e(n,i),r){let[s]=r;n=r.index+s.length,s.length===0&&(a.lastIndex=r.index+1)}}while(r)}function me(l,a){let e=0,t=0,r=0;for(let n=0;r<l.length;r++)l.charAt(r)==="<"&&r>t?a(e,1,t,t=r):l.charAt(r)===">"&&(l.charAt(t+1)==="/"?--n===0&&a(e++,2,t,r+1):l.charAt(r-1)!=="/"&&n++===0&&a(e,0,t,r+1),t=r+1);r>t&&a(e,1,t,r)}function ge(l,a,e,t=!1){return Y([l],a,e,t).pop()}function Y(l,a,e,t=!1){let r=[0];for(let n=1;n<a.length;n++){let i=a[n-1],s=a[n],o=i[i.length-1]>>>2&1023,u=s[0]>>>12;r.push(+(o>u)+r[r.length-1])}return l.map((n,i)=>{let s=0,o=new Map;for(let d of e.sort((c,h)=>c-h)){let c=d&1048575,h=d>>>20;if(r[h]!==i)continue;let y=o.get(h);typeof y>"u"&&o.set(h,y=[]),y.push(c)}if(o.size===0)return n;let u=[];for(let[d,c]of o){let h=a[d],y=h[0]>>>12,g=h[h.length-1]>>>12,Q=h[h.length-1]>>>2&1023;t&&y>s&&u.push(n.slice(s,y));let x=n.slice(y,g+Q);for(let k of c.sort((m,v)=>v-m)){let m=(h[k]>>>12)-y,v=(h[k]>>>2&1023)+m;x=[x.slice(0,m),"<mark>",x.slice(m,v),"</mark>",x.slice(v)].join("")}if(s=g+Q,u.push(x)===2)break}return t&&s<n.length&&u.push(n.slice(s)),u.join("")})}function ve(l){let a=[];if(typeof l>"u")return a;let e=Array.isArray(l)?l:[l];for(let t=0;t<e.length;t++){let r=lunr.tokenizer.table,n=r.length;me(e[t],(i,s,o,u)=>{var d;switch(r[d=i+=n]||(r[d]=[]),s){case 0:case 2:r[i].push(o<<12|u-o<<2|s);break;case 1:let c=e[t].slice(o,u);X(c,lunr.tokenizer.separator,(h,y)=>{if(typeof lunr.segmenter<"u"){let g=c.slice(h,y);if(/^[MHIK]$/.test(lunr.segmenter.ctype_(g))){let Q=lunr.segmenter.segment(g);for(let x=0,k=0;x<Q.length;x++)r[i]||(r[i]=[]),r[i].push(o+h+k<<12|Q[x].length<<2|s),a.push(new lunr.Token(Q[x].toLowerCase(),{position:i<<20|r[i].length-1})),k+=Q[x].length;return}}r[i].push(o+h<<12|y-h<<2|s),a.push(new lunr.Token(c.slice(h,y).toLowerCase(),{position:i<<20|r[i].length-1}))})}})}return a}function xe(l,a=e=>e){return l.trim().split(/"([^"]+)"/g).map((e,t)=>t&1?e.replace(/^\b|^(?![^\x00-\x7F]|$)|\s+/g," +"):e).join("").replace(/"|(?:^|\s+)[*+\-:^~]+(?=\s+|$)/g,"").split(/\s+/g).reduce((e,t)=>{let r=a(t);return[...e,...Array.isArray(r)?r:[r]]},[]).map(e=>/([~^]$)/.test(e)?`${e}1`:e).map(e=>/(^[+-]|[~^]\d+$)/.test(e)?e:`${e}*`).join(" ")}function we(l){return xe(l,a=>{let e=[],t=new lunr.QueryLexer(a);t.run();for(let{type:r,str:n,start:i,end:s}of t.lexemes)switch(r){case"FIELD":["title","text","tags"].includes(n)||(a=[a.slice(0,s)," ",a.slice(s+1)].join(""));break;case"TERM":X(n,lunr.tokenizer.separator,(...o)=>{e.push([a.slice(0,i),n.slice(...o),a.slice(s)].join(""))})}return e})}function Qe(l){let a=new lunr.Query(["title","text","tags"]);new lunr.QueryParser(l,a).parse();for(let e of a.clauses)e.usePipeline=!0,e.term.startsWith("*")&&(e.wildcard=lunr.Query.wildcard.LEADING,e.term=e.term.slice(1)),e.term.endsWith("*")&&(e.wildcard=lunr.Query.wildcard.TRAILING,e.term=e.term.slice(0,-1));return a.clauses}function be(l,a){var e;let t=new Set(l),r={};for(let n=0;n<a.length;n++)for(let i of t)a[n].startsWith(i.term)&&(r[i.term]=!0,t.delete(i));for(let n of t)(e=lunr.stopWordFilter)!=null&&e.call(lunr,n.term)&&(r[n.term]=!1);return r}function ke(l,a){let e=new Set,t=new Uint16Array(l.length);for(let n=0;n<l.length;n++)for(let i=n+1;i<l.length;i++)l.slice(n,i)in a&&(t[n]=i-n);let r=[0];for(let n=r.length;n>0;){let i=r[--n];for(let o=1;o<t[i];o++)t[i+o]>t[i]-o&&(e.add(l.slice(i,i+o)),r[n++]=i+o);let s=i+t[i];t[s]&&s<l.length-1&&(r[n++]=s),e.add(l.slice(i,s))}return e.has("")?new Set([l]):e}function Se(l){return a=>e=>{if(typeof e[a]>"u")return;let t=[e.location,a].join(":");return l.set(t,lunr.tokenizer.table=[]),e[a]}}function Ee(l,a){let[e,t]=[new Set(l),new Set(a)];return[...new Set([...e].filter(r=>!t.has(r)))]}var Le=class{constructor({config:l,docs:a,options:e}){let t=Se(this.table=new Map);this.map=ye(a),this.options=e,this.index=lunr(function(){this.metadataWhitelist=["position"],this.b(0),l.lang.length===1&&l.lang[0]!=="en"?this.use(lunr[l.lang[0]]):l.lang.length>1&&this.use(lunr.multiLanguage(...l.lang)),this.tokenizer=ve,lunr.tokenizer.separator=new RegExp(l.separator),lunr.segmenter="TinySegmenter"in lunr?new lunr.TinySegmenter:void 0;let r=Ee(["trimmer","stopWordFilter","stemmer"],l.pipeline);for(let n of l.lang.map(i=>i==="en"?lunr:lunr[i]))for(let i of r)this.pipeline.remove(n[i]),this.searchPipeline.remove(n[i]);this.ref("location"),this.field("title",{boost:1e3,extractor:t("title")}),this.field("text",{boost:1,extractor:t("text")}),this.field("tags",{boost:1e6,extractor:t("tags")});for(let n of a)this.add(n,{boost:n.boost})})}search(l){if(l=l.replace(new RegExp("\\p{sc=Han}+","gu"),r=>[...ke(r,this.index.invertedIndex)].join("* ")),l=we(l),!l)return{items:[]};let a=Qe(l).filter(r=>r.presence!==lunr.Query.presence.PROHIBITED),e=this.index.search(l).reduce((r,{ref:n,score:i,matchData:s})=>{let o=this.map.get(n);if(typeof o<"u"){o=D({},o),o.tags&&(o.tags=[...o.tags]);let u=be(a,Object.keys(s.metadata));for(let c of this.index.fields){if(typeof o[c]>"u")continue;let h=[];for(let Q of Object.values(s.metadata))typeof Q[c]<"u"&&h.push(...Q[c].position);if(!h.length)continue;let y=this.table.get([o.location,c].join(":")),g=Array.isArray(o[c])?Y:ge;o[c]=g(o[c],y,h,c!=="text")}let d=+!o.parent+Object.values(u).filter(c=>c).length/Object.keys(u).length;r.push(J(D({},o),{score:i*(1+le(d,2)),terms:u}))}return r},[]).sort((r,n)=>n.score-r.score).reduce((r,n)=>{let i=this.map.get(n.location);if(typeof i<"u"){let s=i.parent?i.parent.location:i.location;r.set(s,[...r.get(s)||[],n])}return r},new Map);for(let[r,n]of e)if(!n.find(i=>i.location===r)){let i=this.map.get(r);n.push(J(D({},i),{score:0,terms:{}}))}let t;if(this.options.suggest){let r=this.index.query(n=>{for(let i of a)n.term(i.term,{fields:["title"],presence:lunr.Query.presence.REQUIRED,wildcard:lunr.Query.wildcard.TRAILING})});t=r.length?Object.keys(r[0].matchData.metadata):[]}return D({items:[...e.values()]},typeof t<"u"&&{suggest:t})}},Z;function Oe(l){return q(this,null,function*(){let a="../lunr";if(typeof parent<"u"&&"IFrameWorker"in parent){let t=fe("script[src]"),[r]=t.src.split("/worker");a=a.replace("..",r)}let e=[];for(let t of l.lang){switch(t){case"ja":e.push(`${a}/tinyseg.js`);break;case"hi":case"th":e.push(`${a}/wordcut.js`);break}t!=="en"&&e.push(`${a}/min/lunr.${t}.min.js`)}l.lang.length>1&&e.push(`${a}/min/lunr.multi.min.js`),e.length&&(yield importScripts(`${a}/min/lunr.stemmer.support.min.js`,...e))})}function Pe(l){return q(this,null,function*(){switch(l.type){case 0:return yield Oe(l.data.config),Z=new Le(l.data),{type:1};case 2:let a=l.data;try{return{type:3,data:Z.search(a)}}catch(e){return console.warn(`Invalid query: ${a} \u2013 see https://bit.ly/2s3ChXG`),console.warn(e),{type:3,data:{items:[]}}}default:throw new TypeError("Invalid message type")}})}self.lunr=K.default,K.default.utils.warn=console.warn,addEventListener("message",l=>q(void 0,null,function*(){postMessage(yield Pe(l.data))}))})();
